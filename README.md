```
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚                                                                 â”‚
    â”‚      â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â”‚
    â”‚      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â”‚
    â”‚      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘  â”‚
    â”‚      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘  â”‚
    â”‚      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â”‚
    â”‚      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•   â”‚
    â”‚                                                                 â”‚
    â”‚    ğŸ§ ğŸ¤– Distributed AI Collective Memory for DevOps Automation ğŸ¤–ğŸ§     â”‚
    â”‚                                                                 â”‚
    â”‚      â”Œâ”€[AGENT]â”€â”    â”Œâ”€[AGENT]â”€â”    â”Œâ”€[AGENT]â”€â”    â”Œâ”€[AGENT]â”€â”      â”‚
    â”‚      â”‚ ğŸ§  âš¡ ğŸ› ï¸ â”‚â—„â”€â”€â–ºâ”‚ ğŸ§  âš¡ ğŸ› ï¸ â”‚â—„â”€â”€â–ºâ”‚ ğŸ§  âš¡ ğŸ› ï¸ â”‚â—„â”€â”€â–ºâ”‚ ğŸ§  âš¡ ğŸ› ï¸ â”‚      â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚           â–²              â–²              â–²              â–²           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
    â”‚                     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                     â”‚
    â”‚                     â”‚   ğŸ§  COLLECTIVE ğŸ§     â”‚                     â”‚
    â”‚                     â”‚      MEMORY HUB       â”‚                     â”‚
    â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
    â”‚                                                                 â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

# ClaudeOps hAIveMind - Distributed AI Memory & Coordination System

**A Model Context Protocol (MCP) server enabling distributed AI agent coordination with persistent collective memory across infrastructure networks.**

## Overview

**ClaudeOps hAIveMind** is a distributed memory and agent coordination system built on the Model Context Protocol (MCP). It enables multiple Claude agents to share knowledge, coordinate tasks, and maintain persistent memory across your entire infrastructure network.

### Key Features

ğŸ§  **Collective Intelligence**: Agents share knowledge and coordinate responses across infrastructure  
ğŸ”„ **Real-Time Sync**: ChromaDB + Redis for distributed memory with conflict resolution  
ğŸŒ **Network-Wide Access**: Secure communication via Tailscale VPN  
ğŸ› ï¸ **DevOps Integration**: Infrastructure tracking, incident management, runbook automation  
ğŸ“Š **External Connectors**: Confluence, Jira, and custom API integrations  
ğŸ¤– **Agent Coordination**: Task delegation, knowledge queries, and broadcast messaging

## hAIveMind Architecture

```
        ğŸ§  Distributed AI Collective Memory Network ğŸ§ 
                                                                                
   â”Œâ”€[node-alpha]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€[node-beta]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€[node-gamma]â”€â”€â”€â”€â”€â”€â”€â”€â” 
   â”‚  ğŸ¤– Claude Agent     â”‚  â”‚  ğŸ¤– Claude Agent    â”‚  â”‚  ğŸ¤– Claude Agent    â”‚ 
   â”‚  Role: Hive Mind     â”‚  â”‚  Role: Worker Drone â”‚  â”‚  Role: Worker Drone â”‚ 
   â”‚                      â”‚  â”‚                     â”‚  â”‚                     â”‚ 
   â”‚ â”Œâ”€â”€ğŸ§  Memory Hubâ”€â”€â”  â”‚  â”‚ â”Œâ”€â”€ğŸ§  Memory Hubâ”€â”€â” â”‚  â”‚ â”Œâ”€â”€ğŸ§  Memory Hubâ”€â”€â” â”‚ 
   â”‚ â”‚  hAIveMind MCP  â”‚  â”‚  â”‚ â”‚  hAIveMind MCP  â”‚ â”‚  â”‚ â”‚  hAIveMind MCP  â”‚ â”‚ 
   â”‚ â”‚   Port: 8899    â”‚â—„â”€â”¼â”€â”€â”¼â–ºâ”‚   Port: 8899    â”‚â—„â”¼â”€â”€â”¼â–ºâ”‚   Port: 8899    â”‚ â”‚ 
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ 
   â”‚          â•‘           â”‚  â”‚          â•‘          â”‚  â”‚          â•‘          â”‚ 
   â”‚ â”Œâ”€â”€Vector Storeâ”€â”€â”€â”  â”‚  â”‚ â”Œâ”€â”€Vector Storeâ”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€Vector Storeâ”€â”€â”€â” â”‚ 
   â”‚ â”‚ ChromaDB+Redis  â”‚  â”‚  â”‚ â”‚ ChromaDB+Redis  â”‚ â”‚  â”‚ â”‚ ChromaDB+Redis  â”‚ â”‚ 
   â”‚ â”‚ ğŸ” Semantic     â”‚  â”‚  â”‚ â”‚ ğŸ” Semantic     â”‚ â”‚  â”‚ â”‚ ğŸ” Semantic     â”‚ â”‚ 
   â”‚ â”‚    Search       â”‚  â”‚  â”‚ â”‚    Search       â”‚ â”‚  â”‚ â”‚    Search       â”‚ â”‚ 
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ 
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
              â•‘                          â•‘                          â•‘           
              â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           
                                         â•‘                                      
                          ğŸŒ Tailscale Encrypted VPN Network ğŸŒ                
                                         â•‘                                      
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€DevOps Infrastructure Fleetâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                
              â”‚                                               â”‚                
    â”Œâ”€[db-cluster-01]â”€â” â”Œâ”€[auth-gateway]â”€â” â”Œâ”€[scraper-farm]â”€â” â”Œâ”€[monitor-hub]â”€â”      
    â”‚ ğŸ” Data Hub     â”‚ â”‚ ğŸ” Auth Hub    â”‚ â”‚ ğŸ•·ï¸ Scrapers    â”‚ â”‚ ğŸ“Š Insights   â”‚      
    â”‚ Capability:     â”‚ â”‚ Capability:    â”‚ â”‚ Capability:    â”‚ â”‚ Capability:   â”‚      
    â”‚ Data Storage    â”‚ â”‚ Security       â”‚ â”‚ Collection     â”‚ â”‚ Monitoring    â”‚      
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      
                                         â•‘                                      
                          âš¡ Real-time Agent Collaboration âš¡                   
                                                                               
             ğŸ§  Shared Knowledge â€¢ ğŸ¤ Task Coordination â€¢ ğŸ“‹ Runbooks          
```

## Installation

1. Install dependencies:
```bash
cd /path/to/agent-hivemind
pip install -r requirements.txt
```

2. Install Redis (if not already installed):
```bash
sudo apt-get install redis-server
sudo systemctl start redis-server
```

3. Configure the system:
```bash
# Edit config/config.json for your setup
# Update machine IDs in discovery.machines
```

## Configuration

Edit `config/config.json`:

```json
{
  "server": {
    "host": "0.0.0.0",
    "port": 8899
  },
  "sync": {
    "discovery": {
      "machines": ["node-alpha", "node-beta", "node-gamma", "node-delta"]
    }
  }
}
```

## Usage

### Start Memory MCP Server

```bash
# Start the MCP server (for Claude Code integration)
cd /path/to/agent-hivemind
python src/memory_server.py
```

### Start Sync Service

```bash
# Start the sync service (for remote machine communication)
cd /path/to/agent-hivemind
python src/sync_service.py
```

### Claude Code Integration

The MCP server is automatically available to Claude Code via `.mcp.json` configuration.

Available tools:
- `store_memory`: Store new memories with categories and context
- `retrieve_memory`: Get specific memory by ID
- `search_memories`: Full-text and semantic search
- `get_recent_memories`: Get recent memories within time window

### Manual Sync

Trigger manual sync across machines:
```bash
curl -X POST http://localhost:8899/api/trigger-sync \
  -H "Authorization: Bearer your-api-token"
```

### WebSocket Monitoring

Connect to real-time updates:
```bash
# WebSocket endpoint: ws://localhost:8899/ws/{machine_id}
```

## Memory Categories

- **project**: Project-specific memories and context
- **conversation**: Conversation history and context
- **agent**: Agent-specific knowledge and preferences  
- **global**: Cross-project shared knowledge

## Security

- JWT authentication for API endpoints
- Encrypted credentials storage
- Tailscale VPN for secure machine communication
- Redis password protection (configure in config.json)

## Network Setup

Ensure machines can communicate via Tailscale:

```bash
# Check Tailscale status
tailscale status

# Test connectivity to other machines
ping node-beta
ping node-gamma
ping node-delta
```

## Monitoring

Check service status:
```bash
curl http://localhost:8899/api/status
```

View logs:
```bash
# MCP Server logs
python src/memory_server.py

# Sync Service logs  
python src/sync_service.py
```

## Troubleshooting

1. **MCP Server not connecting**:
   - Check Claude Code settings in `~/.claude/settings.json`
   - Verify `enableAllProjectMcpServers: true` is set
   - Check `.mcp.json` file exists in project root

2. **Redis connection failed**:
   - Install Redis: `sudo apt-get install redis-server`
   - Start Redis: `sudo systemctl start redis-server`
   - Check config.json Redis settings

3. **Machine discovery issues**:
   - Verify Tailscale is running: `tailscale status`
   - Check machine names in config.json match Tailscale hostnames
   - Test connectivity: `ping <machine-name>`

4. **Sync failures**:
   - Check API tokens are configured
   - Verify port 8899 is open on all machines
   - Check sync service logs for specific errors

## Development

Project structure:
```
agent-hivemind/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ memory_server.py    # Main MCP server
â”‚   â””â”€â”€ sync_service.py     # Remote sync service
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.json         # Configuration file
â”œâ”€â”€ tests/                  # Test files
â”œâ”€â”€ docs/                   # Documentation
â”œâ”€â”€ requirements.txt        # Python dependencies
â”œâ”€â”€ .mcp.json              # MCP server config
â””â”€â”€ README.md              # This file
```

## API Reference

### MCP Tools

#### store_memory
```json
{
  "content": "string (required)",
  "category": "string (optional, default: general)", 
  "context": "string (optional)",
  "metadata": "object (optional)",
  "tags": "array of strings (optional)",
  "user_id": "string (optional, default: default)"
}
```

#### search_memories
```json
{
  "query": "string (required)",
  "category": "string (optional)",
  "user_id": "string (optional)", 
  "limit": "integer (optional, default: 10)",
  "semantic": "boolean (optional, default: true)"
}
```

### REST API

#### GET /api/status
Returns service status and machine information.

#### POST /api/sync
Handles sync requests from other machines.

#### POST /api/trigger-sync
Manually triggers sync with all known machines.

#### WebSocket /ws/{machine_id}
Real-time sync notifications and events.

## License

Created by Lance James, Unit 221B, Inc.